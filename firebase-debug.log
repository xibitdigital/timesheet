[debug] [2020-05-22T20:04:55.858Z] ----------------------------------------------------------------------
[debug] [2020-05-22T20:04:55.859Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2020-05-22T20:04:55.859Z] CLI Version:   8.2.0
[debug] [2020-05-22T20:04:55.859Z] Platform:      darwin
[debug] [2020-05-22T20:04:55.859Z] Node Version:  v12.13.1
[debug] [2020-05-22T20:04:55.860Z] Time:          Fri May 22 2020 22:04:55 GMT+0200 (Central European Summer Time)
[debug] [2020-05-22T20:04:55.860Z] ----------------------------------------------------------------------
[debug] [2020-05-22T20:04:55.860Z] 
[debug] [2020-05-22T20:04:55.866Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-05-22T20:04:55.866Z] > authorizing via signed-in user
[debug] [2020-05-22T20:04:55.866Z] [iam] checking project sangatestproject for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2020-05-22T20:04:55.868Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/sangatestproject:testIamPermissions  
 {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2020-05-22T20:04:56.110Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:04:56 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=131","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:04:56.111Z] >>> HTTP REQUEST POST https://iam.googleapis.com/v1/projects/sangatestproject/serviceAccounts/sangatestproject@appspot.gserviceaccount.com:testIamPermissions  
 {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2020-05-22T20:04:57.002Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:04:56 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'sangatestproject'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script.
[debug] [2020-05-22T20:05:03.261Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "tslint --project tsconfig.json",
    "build": "tsc --skipLibCheck",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --watchAll --verbose=false"
  },
  "engines": {
    "node": "8"
  },
  "main": "lib/index.js",
  "dependencies": {
    "axios": "^0.19.2",
    "firebase-admin": "^8.10.0",
    "firebase-functions": "^3.6.1",
    "ramda": "^0.27.0"
  },
  "devDependencies": {
    "@types/jest": "^25.2.2",
    "@types/node": "^14.0.1",
    "@types/ramda": "^0.27.6",
    "firebase-functions-test": "^0.2.1",
    "jest": "^25.5.1",
    "ts-jest": "^25.5.1",
    "tslint": "^5.12.0",
    "typescript": "3.8.3"
  },
  "private": true
}
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled...
[debug] [2020-05-22T20:05:03.892Z] [functions] runtime dependency check dates: warning: 2020-05-21T00:00:00.000Z error: 2020-06-23T00:00:00.000Z
[debug] [2020-05-22T20:05:03.892Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/sangatestproject/services/cloudfunctions.googleapis.com  
 
[debug] [2020-05-22T20:05:03.893Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/sangatestproject/services/runtimeconfig.googleapis.com  
 
[debug] [2020-05-22T20:05:04.886Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:04 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:04.928Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:04 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled
[debug] [2020-05-22T20:05:04.930Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/sangatestproject/adminSdkConfig  
 
[debug] [2020-05-22T20:05:05.398Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:05 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: preparing functions directory for uploading...
[debug] [2020-05-22T20:05:05.400Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/sangatestproject/configs  
 
[debug] [2020-05-22T20:05:05.671Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:05 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: packaged functions (115.3 KB) for uploading
[debug] [2020-05-22T20:05:05.996Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/sangatestproject/locations/-/functions  
 
[debug] [2020-05-22T20:05:06.539Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:06 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:06.542Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/sangatestproject/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2020-05-22T20:05:07.345Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:07 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:07.346Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-f372b648-11f7-4089-80f8-3a4fb9ddf6e8/2b97c602-db0a-450d-9e19-d28fcd6b8311.zip?GoogleAccessId=service-885243684994@gcf-admin-robot.iam.gserviceaccount.com&Expires=1590179706&Signature=uK1rufXNZ2znbcdI1vH6eeZUVS%2FGNP6ZJjlDVKmuzD8NtgY2JF%2FVibSu3vYEZrt5oy%2BL%2BbdsWqYMFUKTtPzAyCLkhN1AVztW6ZEB5kATX4H16e9puByI5SrcDKV8%2FW%2BFdFqhObQI02xawm4bXEZonIIjbeUXkrYmPoLDEGH3xWBqUCagEHmBcTmMQZASQu0dXUuF7CbtPDBmmH2y9wHdYsG9eRsKwcZBfTdeIlnIxjiZp3AjXdGEsACX%2Bos%2FpdjNdO0Xlt0pAOrzsx7YtVdlcxlY8vKm2MGtyWpRlYG%2BY52EoYSeC%2B2yLycqWXJSmySkXo7A0cTP98WQhqtUs426xg%3D%3D  
 <request body omitted>
[debug] [2020-05-22T20:05:07.750Z] <<< HTTP RESPONSE 200 {"x-guploader-uploadid":"AAANsUmz0Fe8AmThsupuhQcxjBglWCQxXDEmsm6Gsr0ulP8PI-EriioZ8UjSh4hLd8mNNJAVVFjveMB7Lv_i8jfPMQ","etag":"\"f128fdce2093bd3cc95e7dea673c4c90\"","x-goog-generation":"1590177907687928","x-goog-metageneration":"1","x-goog-hash":"crc32c=Ih11pw==, md5=8Sj9ziCTvTzJXn3qZzxMkA==","x-goog-stored-content-length":"118067","x-goog-stored-content-encoding":"identity","vary":"Origin","content-length":"0","date":"Fri, 22 May 2020 20:05:07 GMT","server":"UploadServer","content-type":"text/html; charset=UTF-8","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\""}
[info] ✔  functions: functions folder uploaded successfully
[info] i  functions: updating Node.js 8 function updateWorkedDays(us-central1)...
[debug] [2020-05-22T20:05:07.753Z] Trigger is:  {"eventTrigger":{"resource":"projects/sangatestproject/databases/(default)/documents/timesheets/{timeSheetId}","eventType":"providers/cloud.firestore/eventTypes/document.update","service":"firestore.googleapis.com"}}
[debug] [2020-05-22T20:05:07.754Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/sangatestproject/services/cloudscheduler.googleapis.com  
 
[debug] [2020-05-22T20:05:08.560Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:08 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:08.561Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/sangatestproject/locations/us-central1/functions/updateWorkedDays {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 {"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-f372b648-11f7-4089-80f8-3a4fb9ddf6e8/2b97c602-db0a-450d-9e19-d28fcd6b8311.zip?GoogleAccessId=service-885243684994@gcf-admin-robot.iam.gserviceaccount.com&Expires=1590179706&Signature=uK1rufXNZ2znbcdI1vH6eeZUVS%2FGNP6ZJjlDVKmuzD8NtgY2JF%2FVibSu3vYEZrt5oy%2BL%2BbdsWqYMFUKTtPzAyCLkhN1AVztW6ZEB5kATX4H16e9puByI5SrcDKV8%2FW%2BFdFqhObQI02xawm4bXEZonIIjbeUXkrYmPoLDEGH3xWBqUCagEHmBcTmMQZASQu0dXUuF7CbtPDBmmH2y9wHdYsG9eRsKwcZBfTdeIlnIxjiZp3AjXdGEsACX%2Bos%2FpdjNdO0Xlt0pAOrzsx7YtVdlcxlY8vKm2MGtyWpRlYG%2BY52EoYSeC%2B2yLycqWXJSmySkXo7A0cTP98WQhqtUs426xg%3D%3D","name":"projects/sangatestproject/locations/us-central1/functions/updateWorkedDays","labels":{"deployment-tool":"cli-firebase"},"eventTrigger":{"resource":"projects/sangatestproject/databases/(default)/documents/timesheets/{timeSheetId}","eventType":"providers/cloud.firestore/eventTypes/document.update","service":"firestore.googleapis.com"},"runtime":"nodejs8"}
[debug] [2020-05-22T20:05:09.392Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:09 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:09.394Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c2FuZ2F0ZXN0cHJvamVjdC91cy1jZW50cmFsMS91cGRhdGVXb3JrZWREYXlzL1ZxcE9PZ09YZ3hv  
 
[debug] [2020-05-22T20:05:09.694Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:09 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:11.700Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c2FuZ2F0ZXN0cHJvamVjdC91cy1jZW50cmFsMS91cGRhdGVXb3JrZWREYXlzL1ZxcE9PZ09YZ3hv  
 
[debug] [2020-05-22T20:05:12.005Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:11 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:14.005Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c2FuZ2F0ZXN0cHJvamVjdC91cy1jZW50cmFsMS91cGRhdGVXb3JrZWREYXlzL1ZxcE9PZ09YZ3hv  
 
[debug] [2020-05-22T20:05:14.410Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:14 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-05-22T20:05:16.412Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c2FuZ2F0ZXN0cHJvamVjdC91cy1jZW50cmFsMS91cGRhdGVXb3JrZWREYXlzL1ZxcE9PZ09YZ3hv  
 
[debug] [2020-05-22T20:05:16.697Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Fri, 22 May 2020 20:05:16 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-27=\":443\"; ma=2592000,h3-25=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q049=\":443\"; ma=2592000,h3-Q048=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
